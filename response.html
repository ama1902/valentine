<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yay! ğŸ’</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="page page-success">
  <!-- Falling hearts/confetti -->
  <div class="falling" aria-hidden="true" id="falling"></div>

  <main class="card">
    <p class="badge">ğŸ‰ Victory!</p>
    <h1>Correct Answer! Your prize: Unlimited hugs! ğŸ¤—</h1>
    <p class="subtext">Congratulations, youâ€™ve made me the happiest person! â¤ï¸</p>

    <div class="photo-area">
      <!-- EASY PERSONAL PHOTO:
           Replace the src with your own image (or keep the placeholder).
           Tip: Put your image in the repo like "our-photo.jpg" and set src="our-photo.jpg"
      -->
      <img
        id="ourPhoto"
        class="our-photo"
        src="image.jpg"
        alt="A romantic flower photo"
      />
      <p class="photo-caption">
        ğŸŒ¹ğŸ’ğŸŒ¸
        <!-- Change this caption if you want -->
      </p>
    </div>

    <div class="reveal">
      <button class="btn btn-primary" id="revealBtn" type="button">
        Claim Your Prize ğŸ
      </button>

      <div class="hidden-message" id="hiddenMessage" hidden>
        <h2>One more thingâ€¦</h2>
        <p>
          <!-- âœ… ADD YOUR ROMANTIC MESSAGE HERE -->
          <span class="editable">
            My Dearest Love,<br><br>
            Miles dare to place themselves between us, yet our hearts remain entirely unmoved by them. Each day, I find you in the smallest moments, when your umbrella shields me from the rain, or when I take a step in your badminton shoes. In the quiet moments, you occupy my mind.<br><br>
            So even with the distance between us, I carry you with me, and I want you to know that you are deeply cherished.<br><br>
            Will you be my Valentine, Lily?
          </span>
        </p>
      </div>
    </div>

    <div class="music">
      <!-- OPTIONAL MUSIC:
           Put an mp3 file in your repo, e.g. "song.mp3"
           Then set: <source src="song.mp3" type="audio/mpeg">
      -->
      <button class="btn btn-outline" id="musicBtn" type="button" aria-pressed="false">
        â–¶ Play music (optional)
      </button>

      <audio id="bgMusic" preload="none" loop>
        <!-- Example: replace with your own file in the repo -->
        <source src="song.mp3" type="audio/mpeg" />
      </audio>

      <p class="tiny-note">
        Music is off by default (phones often block autoplay). Tap to play.
      </p>
    </div>

    <a class="btn btn-outline" href="index.html">Start over â†©</a>
  </main>

  <script>
    // Falling hearts/confetti generator
    const falling = document.getElementById("falling");
    const emojis = ["ğŸ’—","ğŸ’–","ğŸ’˜","ğŸ’•","ğŸ’","âœ¨","â¤ï¸"];

    function spawnPiece() {
      const el = document.createElement("div");
      el.className = "piece";
      el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      el.style.left = Math.random() * 100 + "vw";
      el.style.animationDuration = (Math.random() * 2.8 + 3.2) + "s";
      el.style.fontSize = (Math.random() * 16 + 16) + "px";
      el.style.opacity = (Math.random() * 0.4 + 0.6);

      falling.appendChild(el);
      setTimeout(() => el.remove(), 7000);
    }

    // Create a steady stream
    setInterval(spawnPiece, 220);
    for (let i = 0; i < 10; i++) setTimeout(spawnPiece, i * 120);

    // Reveal personal message
    const revealBtn = document.getElementById("revealBtn");
    const hiddenMessage = document.getElementById("hiddenMessage");
    revealBtn.addEventListener("click", () => {
      hiddenMessage.hidden = !hiddenMessage.hidden;
      revealBtn.textContent = hiddenMessage.hidden ? "Claim Your Prize ğŸ" : "Hide (but why?) ğŸ˜„";
    });

    // Optional music button
    const musicBtn = document.getElementById("musicBtn");
    const bgMusic = document.getElementById("bgMusic");

    musicBtn.addEventListener("click", async () => {
      try {
        if (bgMusic.paused) {
          await bgMusic.play();
          musicBtn.textContent = "â¸ Pause music";
          musicBtn.setAttribute("aria-pressed", "true");
        } else {
          bgMusic.pause();
          musicBtn.textContent = "â–¶ Play music (optional)";
          musicBtn.setAttribute("aria-pressed", "false");
        }
      } catch (err) {
        // Usually happens if there is no source file or autoplay restriction
        alert("Add an audio file source in response.html (see comments) to enable music ğŸµ");
      }
    });
  </script>
</body>
</html>
